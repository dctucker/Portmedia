#include "shader.h"

class BlinkShader : public ShaderProgram
{
public:
	mat4 mvp = {
		0.05,  0.0,  0.0, -0.3,
		0.0,  0.08,  0.0,  0.5,
		0.0,  0.0,  1.0,  0.0,
		0.0,  0.0,  0.0,  1.0
	};
	struct Blink {
		GLfloat x, y;
		GLfloat amp, freq, phase;
		GLfloat r, g, b;
	};

	struct Blinks {
		Blink amplfo[8], filtlfo[8], delay[8];
	} blinks = {{
		{0.0, -8.0,  0.10, 0.1, 0.0,  1.0, 0.0, 0.0},
		{1.1, -8.0,  0.05, 0.2, 0.0,  0.8, 0.8, 8.0},
		{2.2, -8.0,  0.05, 0.3, 0.0,  1.0, 1.0, 0.0},
		{3.3, -8.0,  0.05, 0.4, 0.0,  0.0, 1.0, 0.0},
		{4.4, -8.0,  0.05, 0.5, 0.0,  0.2, 0.3, 1.0},
		{5.5, -8.0,  0.05, 0.6, 0.0,  0.0, 1.0, 1.0},
		{6.6, -8.0,  0.05, 0.7, 0.0,  1.0, 0.0, 1.0},
		{7.7, -8.0,  0.05, 0.8, 0.0,  0.6, 0.5, 0.5}
	},{
		{0.0, -9.1,  0.10, 0.00, 0.0,  1.0, 0.0, 0.0},
		{1.1, -9.1,  0.05, 0.00, 0.0,  0.8, 0.8, 8.0},
		{2.2, -9.1,  0.04, 0.00, 0.0,  1.0, 1.0, 0.0},
		{3.3, -9.1,  0.03, 0.00, 0.0,  0.0, 1.0, 0.0},
		{4.4, -9.1,  0.25, 0.00, 0.0,  0.2, 0.3, 1.0},
		{5.5, -9.1,  0.08, 0.00, 0.0,  0.0, 1.0, 1.0},
		{6.6, -9.1,  0.95, 0.00, 0.0,  1.0, 0.0, 1.0},
		{7.7, -9.1,  0.03, 0.00, 0.0,  0.6, 0.5, 0.5}
	},{
		{0.0, -10.2,  0.10, 0.0, 0.0,  1.0, 0.0, 0.0},
		{1.1, -10.2,  0.05, 0.0, 0.0,  0.8, 0.8, 8.0},
		{2.2, -10.2,  0.05, 0.0, 0.0,  1.0, 1.0, 0.0},
		{3.3, -10.2,  0.05, 0.0, 0.0,  0.0, 1.0, 0.0},
		{4.4, -10.2,  0.05, 0.0, 0.0,  0.2, 0.3, 1.0},
		{5.5, -10.2,  0.05, 0.0, 0.0,  0.0, 1.0, 1.0},
		{6.6, -10.2,  0.05, 0.0, 0.0,  1.0, 0.0, 1.0},
		{7.7, -10.2,  0.05, 0.0, 0.0,  0.6, 0.5, 0.5}
	}};

	void Setup();
	//void Run(bool);
};

